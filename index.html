<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Personnalité - MusBA</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="container">
        <div id="intro" class="screen active">
            <h1>Quelle œuvre du MusBA êtes-vous ?</h1>
            <p>Répondez à 10 questions pour découvrir votre tableau jumeau.</p>
            <button onclick="startQuiz()">Commencer le test</button>
        </div>

        <div id="quiz" class="screen">
            <h2 id="question-text">Question...</h2>
            <div id="options" class="options-grid">
                </div>
            <p>Question <span id="current-q">1</span> / 10</p>
        </div>

        <div id="clue-screen" class="screen">
            <h2>À vous de jouer !</h2>
            <p>D'après vos réponses, votre tableau totem se cache dans la salle...</p>
            
            <div class="clue-box">
                <h3>Votre Indice :</h3>
                <p id="clue-text" style="font-style: italic; color: #d4af37;">...</p>
            </div>
        
            <p>Trouvez le tableau et entrez le code inscrit sur son cartel :</p>
            
            <input type="text" id="player-code" placeholder="Code (ex: LION)" maxlength="10">
            <button onclick="checkCode()">Valider</button>
            
            <p id="error-msg" class="error-hidden">Ce code est incorrect.</p>
        </div>

        <div id="result" class="screen">
            <h2>Vous êtes...</h2>
            <h3 id="result-title">Titre du Tableau</h3>
            <p id="result-desc">Félicitations, vous avez trouvé votre alter ego artistique.</p>
            
            <hr>
            
            <div class="stats-box">
                <h4>Statistiques de la soirée</h4>
                <ul id="global-stats">
                    <li>Chargement des stats...</li>
                </ul>
            </div>
            
            <button onclick="location.reload()">Recommencer</button>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-database-compat.js"></script>

    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyCkux18FLWWOI-eC3ls37DedvLPJoxCG0s",
            authDomain: "bacchanight-fancy.firebaseapp.com",
            databaseURL: "https://bacchanight-fancy-default-rtdb.europe-west1.firebasedatabase.app",
            projectId: "bacchanight-fancy",
            storageBucket: "bacchanight-fancy.firebasestorage.app",
            messagingSenderId: "374573300932",
            appId: "1:374573300932:web:ff2c494a2ec60a764bdd91",
            measurementId: "G-CRFSPPJWMC"
        };
        
        // Initialisation globale pour que script.js puisse l'utiliser
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();
    </script>

    <script src="script.js"></script>
</body>
</html>